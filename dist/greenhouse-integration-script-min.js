!function(e){var t={};function r(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(o,a,function(t){return e[t]}.bind(null,a));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t){
/*!*
 * Plugin Name:       Anaplan Greenhouse Integration
 * Plugin URI:        https://www.anaplan.com/
 * Description:       JS to work with Greenhouse API
 * Version:           1.2.1
 * Author:            Peter Berki
 * Author URI:        https://kumadev.com
 * License:           GPL-2.0+
 * License URI:       http://www.gnu.org/licenses/gpl-2.0.txt
 * Text Domain:       anaplan
 * Domain Path:       /languages
 * Test URL Path:     window.location.href + ?filter=true;category=Engineering;city=San%20Francisco;country=United&20States
 */
jQuery(document).ready((function(e){var t=window.location.href,r=(t=t.substr(0,t.indexOf(".com")+4))+"/jobs/?id=",o=function(e,t,r,o){this.title=e,this.categoryArr=t,this.appendID=r,this.markup=o},a=function(e,t){this.query=e,this.amount=t},n=[],i=function(t,r){var o=e(r).length,a=e(t).length;o===a?e("#job-list-total").html("<p>Displaying ${amount} entries".replace(/\$\{amount\}/gi,"<strong>all</strong>")):e("#job-list-total").html("<p>Displaying ${amount} entries".replace(/\$\{amount\}/gi,"<strong>"+o+"</strong> of <strong>"+a+"</strong>"))},l=window.location.href;if(l.indexOf("/jobs/")>0){var s=l.substr(l.indexOf("?id=")+4,l.length);if(-1!==l.indexOf("?id=")){e("#job-background").css("opacity",0);var c="https://boards-api.greenhouse.io/v1/boards/anaplan/jobs/"+s;e.ajax({url:c}).done((function(t){var o=t.content.replace(/&lt;/gi,"<");o=(o=o.replace(/&gt;/gi,">")).replace(/&quot;/gi,'"'),e("#job-title").find("h1").html(t.title),e("#job-title-content").find("h3").html(t.title),e("#job-location").find("h3").html(t.location.name.trim()),e("#job-location-content").find("h5").html(t.location.name.trim()),e("#job-content").html(o),e("#job-greenhouse-href").attr("href",t.absolute_url),String.prototype.tagRemoval=function(){var e=this.replace(/(\<strong\>.*\<\/strong\>)|(\<strong\>)|(\<\/strong\>)/gi,"");return e=e.replace(/(\<ul\>)|(\<\/ul\>)|(\<li\>)|(\<\/li\>)|(\<p\>)|(\<\/p\>)|(\<h1\>)|(\<h2\>)|(\<h3\>)|(\<\/h3\>)|(\<\/h1\>)|(\<\/h2\>)/gi,"")},String.prototype.trunc=function(e,t){var r=this.length>e,o=r?this.substr(0,e-1):this;return o=t&&r?o.substr(0,o.lastIndexOf(" ")):o+" ..."};var a=o.tagRemoval().trunc(240,!1);if(a.length>1){e("meta[name=description]").remove();var n=document.createElement("meta");n.name="description",n.content=a,e("head").append(n);var i=function(e,t){console.log("metaCycle"),e.length>t&&(console.log(e.eq(t)),t++,i(e,t))};i(e("meta"),0)}var l="/wp-content/uploads/2018/12/solution_IT_feature.jpg",c="/wp-content/uploads/2018/12/solution_sales_feature.jpg";switch(t.departments[0].name){case"Engineering":case"IT":case"Technical Operations":u=l;break;case"Field Sales":case"Inside Sales":case"Sales Development":case"Pre-Sales":case"Marketing":u=c;break;default:var u="/wp-content/uploads/2018/12/solution_supplyChain_feature.jpg"}e("#job-background").css({"background-image":"url("+u+")"}),setTimeout((function(){e("#job-background").css("opacity",1)}),250);var p=t.departments[0].name;e.getJSON("https://boards-api.greenhouse.io/v1/boards/anaplan/departments/",(function(t){e.each(t.departments,(function(o,a){var n=[],i="<div class='job-related--row'><p id='job-related--title' class='job-related--title'><a href='${job-href}'>${job-title}</a></p><p id='job-related--location' class='job-related--location'>${job-location}</p></div>",l=function(e){var t=r+e.id,o=i.replace(/\$\{job-title\}/gi,e.title);return o=(o=o.replace(/\$\{job-location\}/gi,e.location.name)).replace(/\$\{job-href\}/gi,t)};if(t.departments[o].name===p){var c=function(r,o){n.length<2&&o<t.departments.length?(e.each(t.departments[o].jobs,(function(e,t){if(t.id!==parseInt(s)&&e<=5){var r=l(t);n.push(r)}})),o++,c(r,o)):n.length<2&&o===t.departments.length&&(o=r,e.each(t.departments[o].jobs,(function(e,t){if(t.id!==parseInt(s)&&e<=5){var r=l(t);n.push(r)}})),o++,c(r,o))};c(0,o),e("#job-related-attach").html(n.join(""))}}))}))})).fail((function(){window.location.href=window.location.href.substr(0,window.location.href.indexOf("/jobs"))+"/job-listing/"}))}else window.location.href=window.location.href.substr(0,window.location.href.indexOf("/jobs"))+"/job-listing/"}else-1!==l.indexOf("/engineering")?l+="?filter=true;category=Eng%20Ops&Cloud%20Platform%20Engineering&Experience%20and%20Applications%20Engineering&Product%20Management%20and%20User%20Experience&Product,%20UX,%20and%20Engineering&Planning%20AI":-1!==l.indexOf("/sales")&&(l+="?filter=true;category=Field%20Sales&Pre-Sales&Sales%20Development"),e.getJSON("https://boards-api.greenhouse.io/v1/boards/anaplan/departments/",(function(t){var l=0,s=0,c=0,u=0,p=0,f=0,h=[],d=[],b=[],g=[],m=[],j=[],v="<li><span class='item-title-checkbox'><input name='${value}' value='${value}' type='checkbox' /><label>${display}</label></span><span class='item-amount'><span class='item-amount-container'>${amount}</span></span></li>",w="<div data-search='${search}' data-category='${category}' data-city='${city}' data-country='${country}' data-title='${job-data-title}' class='job-list-row job-list-row--active job-list-row--filtered'><div class='job-list-column job-list-column--large'><p><a href='${job-href}'>${job-title}</a></p></div><div class='job-list-column job-list-column--small'><p>${category}</p></div><div class='job-list-column job-list-column--small'><p>${location}</p></div></div>",y=function(e,t,r){var o=e;if(t.length<1){var n=new a(o,1);t.push(n)}else if(r<t.length){if(o===t[r].query)return t[r].amount+=1,!1;r++,y(e,t,r)}else{n=new a(o,1);t.push(n)}};e.each(t.departments,(function(t,o){if(o.jobs.length>0&&"Template"!==o.name){var n=new a(o.name.replace("Inside Sales","Sales Development"),o.jobs.length);m.push(n),e.each(o.jobs,(function(e,t){var r=new a(t.title,1);g.push(r)}));var i=o.jobs.map((function(e,t){var o=e.location.name.split(","),a=r+e.id,i=e.location.name.trim().toLowerCase()+","+e.title.toLowerCase();if(o.length>1){var l=o[0].trim().replace(/(\s-)|(-\s)/gi,"-"),s=o[1].trim().replace(/(\s-)|(-\s)/gi,"-");y(l,b,0),y(s,d,0),c=(c=w.replace(/\$\{city\}/gi,l.toLowerCase())).replace(/\$\{country\}/gi,s.toLowerCase())}else{s=o[0].trim().replace(/(\s-)|(-\s)/gi,"-");y(o[0],d,0);var c=w.replace(/\$\{country\}/gi,s.toLowerCase())}return(c=(c=(c=(c=(c=c.replace(/\$\{job-href\}/gi,a)).replace(/\$\{job-title\}/gi,e.title)).replace(/\$\{job-data-title\}/gi,e.title.toLowerCase())).replace(/\$\{location\}/gi,e.location.name.trim())).replace(/\$\{search\}/gi,i+n.query.trim().toLowerCase())).replace(/\$\{category\}/gi,n.query.trim().toLowerCase())}));j.push(i.join(""))}l+=o.jobs.length;if(console.log("val.name"+o.name),/engineering|eng|experience|ai/gi.test(o.name)){s+=o.jobs.length;var v=new a("engineering",s);h.push(v)}else if(/sales/gi.test(o.name)){c+=o.jobs.length;v=new a("sales",c);h.push(v)}if("Customer Success"===o.name.trim()){f+=o.jobs.length;v=new a("customer success",f);h.push(v)}else if("Pre-Sales"===o.name.trim()){u+=o.jobs.length;v=new a("pre-sales",u);h.push(v)}else if("Field Sales"===o.name.trim()){p+=o.jobs.length;v=new a("field sales",p);h.push(v)}})),e("<div/>",{html:j.join("")}).appendTo("#job-attach");var q=function(e){return e.sort((function(e,t){var r=e.query.toUpperCase(),o=t.query.toUpperCase();return r<o?-1:r>o?1:0}))};d=q(d),b=q(b);var $=new o("Category",m,"category",v),x=new o("Country",d,"country",v),C=new o("City",b,"city",v);new o("Title",g,"title","<li style='display:none;'><span class='item-title-checkbox'><input name='${value}' value='${value}' type='checkbox' /><label>${display}</label></span><span class='item-amount'><span class='item-amount-container'>${amount}</span></span></li>");n.push($),n.push(x),n.push(C);var O=new a("all",l);h.push(O),e.each(h,(function(t,r){!function(t){e('*[data-job-type="'+t.query+'"]').html(t.amount)}(r)}));var k=function(t,r){if(r<t.length){var o=t[r].categoryArr,a=t[r].markup,n=o.map((function(e,t){var r=a.replace(/\$\{value\}/gi,e.query.toLowerCase());return(r=r.replace(/\$\{display\}/gi,e.query)).replace(/\$\{amount\}/gi,e.amount)}));e("<ul/>",{html:n.join("")}).appendTo("#"+t[r].appendID),r++,k(t,r)}};k(n,0),i(".job-list-row",".job-list-row--active.job-list-row--filtered")}));var u=function(){var t=window.location.href;-1===window.location.href.indexOf("?search")&&e(".job-list-row").each((function(t,r){e(r).removeClass("job-list-row--search-exempt")}));var r=[],o=[],a=function(e){this.query=e,this.arr=[]},n=function(e,t,r){t<e.length&&(e.eq(t).hasClass(r)||(e.eq(t).removeClass("job-list-row--active"),e.eq(t).removeClass("job-list-row--filtered")),t++,n(e,t,r))},l=function(e,t,r){t<e.length&&(e.eq(t).hasClass(r)||(e.eq(t).addClass("job-list-row--active"),e.eq(t).addClass("job-list-row--filtered")),t++,l(e,t,r))},s=e("*[type='checkbox']"),c=function(e,t,o){t<e.length&&(e[t].query.trim()===o.query.trim()?e[t].arr.push(o.arr[0]):t+1===e.length&&e[t].query.trim()!==o.query.trim()?r.push(o):(t++,c(e,t,o)))},u=function(e,t){if(t<e.length){if(!0===e.eq(t).prop("checked")&&void 0===e.eq(t).attr("id")){var o,n=e.eq(t).attr("value").trim(),i=e.eq(t).parents(".item-list").attr("id").trim();if(r.length>0)(o=new a(i)).arr.push(n),c(r,0,o);else(o=new a(i)).arr.push(n),r.push(o)}t++,u(e,t)}};n(e(".job-list-row"),0,"job-list-row--title"),u(s,0);var p=function(e,t,r){if(t<e.length){var a="<span class='job-filter-button job-filter-button--${color}' data-${query}='${filter}'>${filter} <span class='job-filter-button--delete'>x</span></span>";a=(a=(a="category"===r?a.replace(/\$\{color\}/gi,"blue"):"search"===r?a.replace(/\$\{color\}/gi,"grey"):a.replace(/\$\{color\}/gi,"green")).replace(/\$\{filter\}/gi,e[t])).replace(/\$\{query\}/gi,r),o.push(a),t++,p(e,t,r)}},f=function(t,r,o){r<t.length&&(e("*[data-"+o+"='"+t[r]+"']").each((function(t,r){e(r).eq(0).hasClass("job-list-row--search-exempt")||e(r).eq(0).addClass("job-list-row--filtered")})),r++,f(t,r,o))},h=function(t,r,o){r<t.length&&(e("*[data-"+o+"='"+t[r]+"']").each((function(t,r){e(r).eq(0).hasClass("job-list-row--search-exempt")||e(r).eq(0).addClass("job-list-row--active")})),r++,h(t,r,o))},d=function(t,r){r<t.length&&(0===r&&1!==t.length?(h(t[r].arr,0,t[r].query),p(t[r].arr,0,t[r].query)):0===r&&"category"===t[r].query&&1===t.length?(h(t[r].arr,0,t[r].query),f(t[r].arr,0,t[r].query),p(t[r].arr,0,t[r].query)):r>0?(f(t[r].arr,0,t[r].query),p(t[r].arr,0,t[r].query)):0===r&&1===t.length&&(h(t[r].arr,0,t[r].query),f(t[r].arr,0,t[r].query),p(t[r].arr,0,t[r].query)),r++,d(t,r)),e("#job-filter-buttons").html(o.join(""))};0===r.length&&-1===t.indexOf("?search")?(n(e(".job-list-row"),0,"job-list-row--title"),l(e(".job-list-row"),0,"job-list-row--title"),e("#job-filter-buttons").html("")):-1===t.indexOf("?search")?d(r,0):g(t),i(".job-list-row",".job-list-row--active.job-list-row--filtered")},p=function(t){var r=[],o=[],a=e("*[type='checkbox']"),n=function(e){this.query=e,this.arr=[]},l=function(e,t,o){t<e.length&&(e[t].query.trim()===o.query.trim()?e[t].arr.push(o.arr[0]):t+1===e.length&&e[t].query.trim()!==o.query.trim()?r.push(o):(t++,l(e,t,o)))},s=function(e,t){if(t<e.length){if(!0===e.eq(t).prop("checked")&&void 0===e.eq(t).attr("id")){var o,a=e.eq(t).attr("value").trim(),i=e.eq(t).parents(".item-list").attr("id").trim();if(r.length>0)(o=new n(i)).arr.push(a),l(r,0,o);else(o=new n(i)).arr.push(a),r.push(o)}t++,s(e,t)}},c=function(e,t,r){t<e.length&&(e.eq(t).hasClass(r)||e.eq(t).hasClass("job-list-row--search-exempt")||(e.eq(t).removeClass("job-list-row--active"),e.eq(t).removeClass("job-list-row--filtered")),t++,c(e,t,r))},u=function(e,t,r){t<e.length&&(e.eq(t).hasClass(r)||e.eq(t).hasClass("job-list-row--search-exempt")||(e.eq(t).addClass("job-list-row--active"),e.eq(t).addClass("job-list-row--filtered")),t++,u(e,t,r))};c(e(".job-list-row"),0,"job-list-row--title"),s(a,0);var p,f=function(e,t,r){var a="<span class='job-filter-button job-filter-button--${color}' data-${query}='${filter}'>${filter} <span class='job-filter-button--delete'>x</span></span>";a="category"===r?a.replace(/\$\{color\}/gi,"blue"):"search"===r?a.replace(/\$\{color\}/gi,"grey"):a.replace(/\$\{color\}/gi,"green"),t<e.length&&"object"==typeof e?(a=(a=a.replace(/\$\{filter\}/gi,e[t])).replace(/\$\{query\}/gi,r),o.push(a),t++,f(e,t,r)):"string"==typeof e&&(a=(a=a.replace(/\$\{filter\}/gi,e)).replace(/\$\{query\}/gi,r),o.push(a))},h=function(t,r,o){r<t.length&&(e("*[data-"+o+"='"+t[r]+"']").each((function(t,r){e(r).eq(0).hasClass("job-list-row--search-exempt")||e(r).eq(0).addClass("job-list-row--filtered")})),r++,h(t,r,o))},d=function(t,r,o){r<t.length&&(e("*[data-"+o+"='"+t[r]+"']").each((function(t,r){e(r).eq(0).hasClass("job-list-row--search-exempt")||e(r).eq(0).addClass("job-list-row--active")})),r++,d(t,r,o))},b=function(t,r){r<t.length&&(0===r&&1!==t.length?(d(t[r].arr,0,t[r].query),f(t[r].arr,0,t[r].query)):0===r&&"category"===t[r].query&&1===t.length?(d(t[r].arr,0,t[r].query),h(t[r].arr,0,t[r].query),f(t[r].arr,0,t[r].query)):r>0?(h(t[r].arr,0,t[r].query),f(t[r].arr,0,t[r].query)):0===r&&1===t.length&&(d(t[r].arr,0,t[r].query),h(t[r].arr,0,t[r].query),f(t[r].arr,0,t[r].query)),r++,b(t,r)),e("#job-filter-buttons").html(o.join(""))};if(0===r.length){c(e(".job-list-row"),0,"job-list-row--title"),u(e(".job-list-row"),0,"job-list-row--title"),e("#job-filter-buttons").html("");var g=t.substr(t.indexOf("?search=")+8,t.length).replace(/\%20/gi," ");p=(p="<span class='job-filter-button job-filter-button--grey' data-search='${filter}'>${filter} <span class='job-filter-button--delete'>x</span></span>").replace(/\$\{filter\}/gi,g),e("#job-filter-buttons").html(p)}else{g=t.substr(t.indexOf("?search=")+8,t.length).replace(/\%20/gi," ");f(g,0,"search"),b(r,0)}i(".job-list-row",".job-list-row--active.job-list-row--filtered")},f=!1,h=function(e,t){if(t<e.length){var r=e[t].substr(e[t].indexOf("=")+1,e[t].length).split("&");d(r,0),t++,h(e,t)}},d=function(t,r){r<t.length&&(e("*[value='"+t[r].replace(/%20/gi," ").toLowerCase()+"']").eq(0).prop("checked",!0),r++,d(t,r))},b=function(t){!1!==f||-1===t.indexOf("?filter=true;")&&-1===t.indexOf("?search")?!0===f&&-1!==t.indexOf("?filter=true;")?function(e){if(-1!==e.indexOf("?filter=true;")){var t=e.substr(e.indexOf("?filter=true;")+13,e.length),r=t.substr(0,t.length).split(";");h(r,0),u()}}(t):!0===f&&-1!==t.indexOf("?search")&&g(l):(e("*[type='checkbox']").length>0?f=!0:pageload=!1,setTimeout((function(){b(t)}),500))};b(l);var g=function(t){var r=t.substr(t.indexOf("?search=")+8,t.length).replace(/\%20/gi," ");r=decodeURIComponent(r);var o=e(".job-list-row"),a=new RegExp(r,"gi");console.log("searchSynth = "+r);var n;n=(n="<span class='job-filter-button job-filter-button--grey' data-search='${filter}'>${filter} <span class='job-filter-button--delete'>x</span></span>").replace(/\$\{filter\}/gi,r),e("#job-filter-buttons").html(n),e.each(o,(function(t,r){var o=e(r).attr("data-search");!0===a.test(o)?e(r).addClass("job-list-row--filtered"):!1===a.test(o)&&(e(r).removeClass("job-list-row--filtered"),e(r).addClass("job-list-row--search-exempt"))})),i(".job-list-row",".job-list-row--active.job-list-row--filtered")};e(document).on("submit","#career-search-form",(function(t){t.preventDefault();var r=window.location.href,o=r.substr(0,r.indexOf(".com")+4);window.location.href=o+"/job-listing/?search="+e("#form-field-name").val().trim()})),e(document).on("click","*[type='checkbox']",(function(e){var t=window.location.href;-1===t.indexOf("?search")?u():p(t)})),e(document).on("click",".job-filter-button",(function(t){t.preventDefault(),e.each(e(this).data(),(function(t,r){"search"!==t.trim()?e("#"+t).find("*[value='"+r+"']").prop("checked",!1):history.pushState(null,null,"/job-listing/")}));var r=window.location.href;-1===r.indexOf("?search")?u():p(r)}));var m=e("img"),j=e("iframe"),v=function(t,r){if(r<t.length){if(parseFloat(e(window).scrollTop()+window.innerHeight)>t.eq(r).offset().top-200&&void 0===t.eq(r).attr("src")){var o=t.eq(r).attr("data-src");t.eq(r).attr("src",o),t.eq(r).css("opacity","1")}r++,v(t,r)}},w=function(t,r,o){if(r<t.length){if(parseFloat(e(window).scrollTop()+window.innerHeight)>t.eq(r).offset().top-200){var a=t.eq(r).attr("data-src");void 0!==o?t.eq(r).find(o).css({"background-image":"url("+a+")","background-position":"background-position","background-size":"cover"}):t.eq(r).css({"background-image":"url("+a+")","background-position":"background-position","background-size":"cover"})}r++,w(t,r,o)}};v(m,0),v(j,0),w(e(".flip-card-front"),0,".elementor-flip-box__front"),w(e(".background-image-elements"),0);new Date;console.log("Script update October 22nd, 2019"),e(window).scroll((function(){var t=e("img"),r=e("iframe");v(t,0),v(r,0),w(e(".flip-card-front"),0,".elementor-flip-box__front"),w(e(".background-image-elements"),0)}))}))}]);